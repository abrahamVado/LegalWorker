/* Root stretch */
html, body, #root { height: 100%; }

/* Keep base grid from your app; only add positioning for the outer handle */
.window--workspace {
  /* DO NOT override display/grid-template-columns here */
  position: relative;
  height: 100dvh;
  overflow: hidden;
}

/* --- OUTER handle that tracks the base split (Left | 1fr) --- */
.ws-handle {
  position: absolute;
  top: 0; bottom: 0;
  /* left + width are set inline by JS so it aligns with the split */
  background: linear-gradient(to right, rgba(0,0,0,0.06), rgba(0,0,0,0.02));
  cursor: col-resize;
  z-index: 6;
  touch-action: none;
}
.ws-handle::after {
  content: "";
  position: absolute; left: -6px; right: -6px; top: 0; bottom: 0; /* fat hit area */
}
.ws-handle:hover  { background: rgba(99,102,241,.18); }
.ws-handle:active { background: rgba(99,102,241,.28); }

/* --- INNER Center | Handle | Right grid (lives inside .workspace-center) --- */
.center-right-grid {
  position: relative;
  display: grid;
  grid-template-rows: 1fr;
  grid-template-columns:
    minmax(var(--center-min, 240px), 1fr)
    var(--handle, 6px)
    var(--right, 340px);
  height: 100%;
  min-height: 0;
}

.cr-col { min-width: 0; min-height: 0; overflow: hidden; }
.cr-col--center { grid-column: 1; }
.cr-col--right  { grid-column: 3; border-left: 1px solid var(--line, #e5e7eb); }

.cr-handle {
  grid-column: 2;
  position: relative;
  cursor: col-resize;
  background: linear-gradient(to right, rgba(0,0,0,0.06), rgba(0,0,0,0.02));
  touch-action: none;
}
.cr-handle::after {
  content: "";
  position: absolute; left: -6px; right: -6px; top: 0; bottom: 0;
}

/* Ensure children can shrink */
.center-right-grid > * { min-width: 0; }

/* Optional: Drop overlay over the whole workspace */
.drop-overlay {
  pointer-events: none;
  position: absolute; inset: 0;
  display: grid; place-items: center;
  background: rgba(30,41,59,0.0);
  opacity: 0;
  transition: opacity .15s ease, background .15s ease;
  z-index: 10;
}
.drop-overlay.active {
  pointer-events: auto;
  background: rgba(30,41,59,0.28);
  opacity: 1;
}
.drop-overlay .box {
  user-select: none;
  font: 600 14px/1.3 Inter, ui-sans-serif, system-ui;
  color: #fff;
  padding: 18px 22px;
  border-radius: 14px;
  background: rgba(15, 23, 42, .7);
  box-shadow: 0 8px 30px rgba(0,0,0,.25);
  cursor: pointer;
}
